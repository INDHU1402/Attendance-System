import cv2
import face_recognition
import os
import numpy as np
from datetime import datetime
import time

path = 'images'

images = []
classNames = []
mylist = os.listdir(path)

for p in mylist:
    curImg = cv2.imread(f'{path}/{p}')
    images.append(curImg)
    classNames.append(os.path.splitext(p)[0])

def findEncodings(images):
    encodeList = []
    for img in images:
        img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
        encoded_face = face_recognition.face_encodings(img)
        if encoded_face != []:
            encodeList.append(list(encoded_face[0]))
    return encodeList
    
def markAttendance(name):
    with open('Attendance.csv','r+') as f:
        myDataList = f.readlines()
        nameList = []
        for line in myDataList:
            entry = line.split(',')
            nameList.append(entry[0])
        if name not in nameList:
            now = datetime.now()
            time = now.strftime('%I:%M:%S:%p')
            date = now.strftime('%d-%B-%Y')
            f.writelines(f'{name}, {time}, {date}')
            f.writelines("\n")
        if name in nameList:
            print("Already given Attendance")
            now = datetime.now()
            time = now.strftime('%I:%M:%S:%p')
            date = now.strftime('%d-%B-%Y')
            f.writelines(f'{name}, {time}, {date}')
            f.writelines("\n")

encoded_face_train = [[-0.07047043740749359, 0.06288349628448486, 0.07192999869585037, -0.052651237696409225, -0.12041935324668884, -0.022933252155780792, -0.07562608271837234, -0.151056706905365, 0.1530826836824417, -0.1361965537071228, 0.20336520671844482, -0.03986051678657532, -0.22679834067821503, -0.11717161536216736, 0.026102367788553238, 0.16858652234077454, -0.11130991578102112, -0.15683768689632416, -0.0069434754550457, -0.04237203672528267, -0.0016928159166127443, -0.07147721946239471, 0.04178730398416519, 0.05109825357794762, -0.11600067466497421, -0.3904271423816681, -0.12994566559791565, -0.12692788243293762, -0.023812774568796158, -0.09525059163570404, -0.05588626489043236, 0.08032023906707764, -0.14459818601608276, 0.006290694698691368, 0.007354716770350933, 0.09202149510383606, -0.05097431689500809, -0.0937512144446373, 0.18549959361553192, -0.04434961453080177, -0.24217988550662994, -0.09050756692886353, 0.0746762752532959, 0.1588677167892456, 0.21698898077011108, -0.019763194024562836, 0.051293715834617615, -0.052904967218637466, 0.08493372797966003, -0.20120450854301453, 0.031338538974523544, 0.11902530491352081, 0.050559308379888535, 0.024715697392821312, 0.021031275391578674, -0.12387803941965103, -0.0049797166138887405, 0.09043602645397186, -0.1544732004404068, -0.04398513212800026, 0.05364668741822243, -0.1400011032819748, -0.15058684349060059, -0.0021607198286801577, 0.28388160467147827, 0.21521417796611786, -0.10969939827919006, -0.1213475838303566, 0.18940839171409607, -0.1897333860397339, -0.053513310849666595, -0.002973020076751709, -0.18293078243732452, -0.1596173346042633, -0.28193092346191406, 0.018048841506242752, 0.4050233066082001, 0.10640688240528107, -0.14796681702136993, 0.06362199783325195, -0.05089974403381348, 0.03725097328424454, 0.06354165822267532, 0.14741156995296478, -0.0965772271156311, 0.04713508486747742, -0.04562274366617203, 0.05135778710246086, 0.1826942414045334, -0.06220153719186783, 0.010635868646204472, 0.16217371821403503, -0.022600805386900902, 0.10490186512470245, 0.05602673813700676, -0.02684737741947174, 0.001905309036374092, -0.061909742653369904, -0.17563609778881073, -0.038317255675792694, 0.047928255051374435, -0.030441831797361374, 0.016746580600738525, 0.12361810356378555, -0.187795490026474, 0.06033913046121597, 0.033179644495248795, -0.05246613919734955, 0.04452510550618172, 0.004430585540831089, -0.06683515012264252, -0.11290397495031357, 0.12506352365016937, -0.19439901411533356, 0.13959704339504242, 0.1658163070678711, 0.05052056908607483, 0.13880465924739838, 0.11173360049724579, 0.08785316348075867, 0.013558179140090942, -0.07747163623571396, -0.15448221564292908, 0.026528529822826385, 0.10616971552371979, -0.001008063554763794, 0.03482833132147789, -0.024164678528904915], [-0.1584475189447403, -0.00017845910042524338, 0.048898011445999146, -0.04040662571787834, -0.07617023587226868, -0.11560022830963135, -0.024076474830508232, -0.21186159551143646, 0.12338373810052872, -0.10340172052383423, 0.25530198216438293, -0.009098556824028492, -0.13261206448078156, -0.11119509488344193, -0.03822236880660057, 0.07932721823453903, -0.13298723101615906, -0.14071771502494812, 0.017014114186167717, -0.07248842716217041, -0.008909019641578197, 0.013676607981324196, 0.07890523225069046, 0.06485477834939957, -0.16538231074810028, -0.3538987934589386, -0.1669166386127472, -0.16796673834323883, 0.05308087542653084, -0.007794564589858055, 0.015320535749197006, 0.10114778578281403, -0.1668083220720291, -0.0196255911141634, 0.06267819553613663, 0.06237584725022316, 0.040857717394828796, 0.0700732171535492, 0.20219512283802032, -0.05413537472486496, -0.17745742201805115, -0.05620550364255905, 0.07806143164634705, 0.2697712481021881, 0.12069954723119736, 0.08575394004583359, 0.05779721960425377, -0.07983267307281494, 0.022522561252117157, -0.14654479920864105, 0.09765265882015228, 0.06288117170333862, 0.15410839021205902, -0.055950358510017395, 0.036465130746364594, -0.16479063034057617, -0.00691923126578331, 0.0544123649597168, -0.2213112711906433, 0.07559217512607574, 0.0724298357963562, -0.0739627256989479, -0.07482930272817612, 0.0016944734379649162, 0.3251531720161438, 0.11137431114912033, -0.15572580695152283, -0.06984902173280716, 0.20429538190364838, -0.21411418914794922, 0.0008577737025916576, 0.06579115986824036, -0.1033264696598053, -0.19596382975578308, -0.2916053831577301, 0.0050682444125413895, 0.4430336058139801, 0.15258349478244781, -0.1957988142967224, 0.058600783348083496, -0.1062309592962265, 0.030377507209777832, 0.07854705303907394, 0.06731385737657547, -0.14224880933761597, 0.0786529928445816, -0.1046542078256607, -0.012540662661194801, 0.17065635323524475, 0.009011502377688885, -0.04525470361113548, 0.17398054897785187, -0.003390936180949211, 0.07358144968748093, 0.05994695425033569, -0.009237556718289852, -0.07587328553199768, -0.07939479500055313, -0.13313455879688263, -0.015637828037142754, -0.04286725074052811, -0.002808217890560627, 0.028234325349330902, 0.1296870857477188, -0.185525044798851, 0.1690225750207901, -0.013757012784481049, -0.10006044805049896, -0.052571021020412445, 0.06807747483253479, -0.05283457040786743, -0.11761356890201569, 0.11398922652006149, -0.2765970230102539, 0.1338716745376587, 0.147903174161911, 0.05397474393248558, 0.24249562621116638, 0.048075757920742035, 0.049887314438819885, -0.0396149568259716, -0.015257200226187706, -0.13634806871414185, -0.03691510483622551, 0.08681252598762512, -0.1553407460451126, 0.1598949432373047, 0.0227961428463459], [-0.11275816708803177, 0.0837036743760109, -0.021056927740573883, -0.09857907891273499, -0.037563834339380264, -0.018577562645077705, -0.054550059139728546, -0.1342639923095703, 0.21737073361873627, -0.18417702615261078, 0.23962029814720154, -0.021159779280424118, -0.15591394901275635, -0.05996064841747284, -0.041211217641830444, 0.15534675121307373, -0.12768176198005676, -0.16105204820632935, -0.017941273748874664, -0.05385417491197586, 0.020945824682712555, -0.057528626173734665, 0.04156104475259781, 0.05709264799952507, -0.19752348959445953, -0.3215496242046356, -0.11645282059907913, -0.11021688580513, -0.025841161608695984, -0.034967608749866486, 0.007691619452089071, 0.046880125999450684, -0.21451987326145172, 0.008161123842000961, 0.00650070421397686, 0.088658407330513, -0.0360335074365139, 0.005080693401396275, 0.26023441553115845, 0.016563285142183304, -0.17621146142482758, -0.06456731259822845, 0.10466782748699188, 0.26885756850242615, 0.15734374523162842, 0.032835703343153, -0.004267998039722443, -0.12281234562397003, 0.12198951840400696, -0.23120760917663574, 0.10287700593471527, 0.09947489947080612, 0.07193385809659958, 0.06089380383491516, 0.07306156307458878, -0.08545738458633423, 0.06517403572797775, 0.1108466386795044, -0.21052786707878113, 0.03062278963625431, 0.032182786613702774, -0.03606254234910011, -0.12026255577802658, -0.03354528173804283, 0.3485433757305145, 0.19233393669128418, -0.14814265072345734, -0.07437286525964737, 0.21609075367450714, -0.11873497068881989, -0.03947906941175461, 0.04252230376005173, -0.09855184704065323, -0.22007599472999573, -0.3048289120197296, 0.0262124165892601, 0.4045664072036743, 0.16331833600997925, -0.17972032725811005, 0.06994485855102539, -0.03934165835380554, -0.050330422818660736, 0.14289085566997528, 0.1185179352760315, -0.0734846293926239, -0.005795415490865707, -0.04233621060848236, 0.054136455059051514, 0.2212642878293991, -0.02525864914059639, -0.0488988421857357, 0.1760954111814499, -0.010168448090553284, 0.055136702954769135, 0.007215077988803387, 0.06435264647006989, -0.12039617449045181, -0.03593873977661133, -0.22481036186218262, -0.049383290112018585, 0.04253942146897316, 0.053538914769887924, -0.030475683510303497, 0.13602063059806824, -0.17869149148464203, 0.1302143782377243, 0.0451476015150547, -0.10481800884008408, -0.005334464833140373, 0.036449648439884186, -0.08790948241949081, -0.09918373078107834, 0.06692559272050858, -0.2325640171766281, 0.1727619618177414, 0.0867302268743515, 0.012530931271612644, 0.17141644656658173, 0.1164623275399208, 0.05609803646802902, 0.02983223646879196, -0.03316528722643852, -0.18522456288337708, -0.03889815881848335, 0.08775534480810165, -0.01555271539837122, 0.11435525119304657, 0.006359301507472992], [-0.11864744126796722, 0.0627676472067833, 0.08492515236139297, 0.054110556840896606, -0.03877105191349983, -0.03525577113032341, -0.032877467572689056, -0.03224041685461998, 0.13621214032173157, -0.09403643012046814, 0.16663125157356262, -0.01649286225438118, -0.19721530377864838, -0.07290208339691162, 0.02853268012404442, 0.08344517648220062, -0.12442665547132492, -0.09867104142904282, -0.03978844732046127, -0.05378510802984238, 0.08607786148786545, 0.021612728014588356, 0.06021760776638985, 0.07741506397724152, -0.19084180891513824, -0.4081401824951172, -0.06493774056434631, -0.1623699963092804, -0.02711137756705284, -0.08536779880523682, 0.00017504487186670303, 0.06244749575853348, -0.16548848152160645, 0.006617676466703415, -0.0362778939306736, 0.0909745842218399, 0.023333292454481125, -0.001797008328139782, 0.2107667624950409, -0.0027974043041467667, -0.18360956013202667, -0.12100932747125626, 0.015135173685848713, 0.25113415718078613, 0.16565831005573273, 0.004769330844283104, 0.02758117765188217, -0.0034373346716165543, 0.06790240108966827, -0.1960643231868744, -0.031533464789390564, 0.1572411060333252, 0.014547821134328842, 0.04363855719566345, 0.08897896111011505, -0.06830533593893051, 0.03227248787879944, 0.003895755857229233, -0.1642633080482483, 0.0035175171215087175, -0.040562704205513, -0.07923632115125656, -0.053587764501571655, -0.005166562739759684, 0.19218875467777252, 0.03703339025378227, -0.05306567996740341, -0.08477018028497696, 0.1310625672340393, -0.24483413994312286, -0.04297081008553505, 0.07633969187736511, -0.11878948658704758, -0.1935456544160843, -0.3243129253387451, -0.026993311941623688, 0.36985042691230774, 0.13376903533935547, -0.16478538513183594, 0.07374176383018494, -0.0356438048183918, -0.0807550847530365, 0.11653949320316315, 0.11449099332094193, -0.06465218961238861, 0.12443184852600098, -0.08382672816514969, 0.12591762840747833, 0.17738239467144012, -0.01043078675866127, 0.004762902855873108, 0.1924736350774765, 0.007207708433270454, 0.04158710688352585, 0.08096271753311157, 0.0008287900127470493, -0.03579618036746979, -0.02467162348330021, -0.15559764206409454, 0.017113177105784416, 0.09195678681135178, -0.040467433631420135, 0.009322477504611015, 0.06988880783319473, -0.1949760615825653, 0.052245523780584335, 0.011692551895976067, -0.08789429813623428, -0.003149610012769699, 0.03727542236447334, -0.1974666714668274, -0.09256137907505035, 0.17224924266338348, -0.1931075155735016, 0.07682596892118454, 0.19748498499393463, -0.04220538213849068, 0.12723428010940552, 0.04305560141801834, 0.06466837227344513, -0.05788999795913696, -0.02551664225757122, -0.14651194214820862, -0.016629818826913834, 0.05981753394007683, -0.012024203315377235, 0.019996987655758858, -0.048747897148132324], [-0.04578574001789093, 0.06121400371193886, 0.06204307824373245, -0.13471218943595886, -0.09000380337238312, -0.029424067586660385, -0.09089229255914688, -0.14016683399677277, 0.1935887187719345, -0.15247702598571777, 0.18955139815807343, -0.0879877507686615, -0.2380671501159668, -0.03735440596938133, -0.039866264909505844, 0.190939798951149, -0.09081415086984634, -0.194252610206604, -0.03075779229402542, -0.05592355132102966, -0.016125811263918877, -0.014038559049367905, 0.032814182341098785, 0.09816575050354004, -0.16887310147285461, -0.3331146538257599, -0.09894676506519318, -0.1166313886642456, -0.0819459855556488, -0.08611343055963516, 0.02809484302997589, 0.08691490441560745, -0.21780085563659668, -0.00999373197555542, 0.018230462446808815, 0.09015596657991409, -0.020976418629288673, -0.025868922472000122, 0.22389903664588928, 0.00958168227225542, -0.28139978647232056, -0.04414323344826698, 0.12518970668315887, 0.15839119255542755, 0.1525224894285202, 0.026030534878373146, 0.027477800846099854, -0.11838781088590622, 0.12814605236053467, -0.19874067604541779, 0.04666750878095627, 0.10588400065898895, 0.13133209943771362, 0.03594432771205902, 0.029500817880034447, -0.12785153090953827, 0.021534724161028862, 0.12855342030525208, -0.24513837695121765, 0.0178975947201252, 0.07014378160238266, -0.07070690393447876, -0.08513480424880981, -0.05184546113014221, 0.2960757613182068, 0.1418531835079193, -0.15687230229377747, -0.11043989658355713, 0.1964952051639557, -0.15930742025375366, -0.04856046289205551, 0.1204615905880928, -0.08976351469755173, -0.1666702777147293, -0.310224711894989, -0.01654273457825184, 0.3778618574142456, 0.09525402635335922, -0.13891395926475525, 0.053789786994457245, -0.06730066239833832, -0.029172219336032867, -0.05379081144928932, 0.0961301401257515, -0.10951797664165497, 0.07495880872011185, 0.0025345399044454098, 0.030959149822592735, 0.20368780195713043, -0.0005368702113628387, 0.006448541302233934, 0.19723452627658844, -0.04113439470529556, 0.10597109794616699, -0.0029784697107970715, 0.06516580283641815, -0.13156796991825104, -0.058798983693122864, -0.1543956845998764, -0.04706675931811333, -0.028036564588546753, 0.02034829929471016, 0.02443225122988224, 0.09239301830530167, -0.20914991199970245, 0.16256771981716156, -0.028660491108894348, -0.08523611724376678, -0.04162297770380974, 0.09794972836971283, -0.046840276569128036, -0.08253291249275208, 0.1453237235546112, -0.24958989024162292, 0.12126775830984116, 0.09588973969221115, 0.03330141305923462, 0.12127134203910828, 0.12055304646492004, 0.06928898394107819, -0.02197061851620674, -0.06977785378694534, -0.17910027503967285, -0.05124058574438095, 0.13101625442504883, -0.08647798746824265, 0.15947949886322021, 0.024408621713519096], [-0.12793093919754028, -0.00683703925460577, 0.024178117513656616, -0.12036512047052383, -0.07103344798088074, -0.014840971678495407, -0.025750407949090004, -0.07749904692173004, 0.24711348116397858, -0.20660877227783203, 0.21358142793178558, -0.038768522441387177, -0.1867227852344513, -0.08513766527175903, -0.049511417746543884, 0.11479880660772324, -0.18865683674812317, -0.1812668740749359, 0.009095774963498116, -0.11020050197839737, 0.020552832633256912, -0.011040517129004002, 0.0066323671489953995, 0.06238104775547981, -0.20373442769050598, -0.40948906540870667, -0.12883174419403076, -0.15378820896148682, -0.005756852217018604, -0.07994439452886581, 0.03619047999382019, 0.1412963569164276, -0.21898260712623596, 0.015346391126513481, 0.017028456553816795, 0.1252753585577011, 0.01792684942483902, 0.05702894181013107, 0.15007652342319489, 0.01747436448931694, -0.20714369416236877, -0.07825560122728348, 0.10948728770017624, 0.25749894976615906, 0.16186153888702393, -0.0022326477337628603, -0.03917282447218895, -0.04388020932674408, 0.10751868784427643, -0.18857984244823456, 0.015139215625822544, 0.15007352828979492, 0.09648070484399796, 0.03606194257736206, 0.1292302906513214, -0.0662817433476448, 0.0027394574135541916, 0.03095284104347229, -0.16227588057518005, 0.049050480127334595, 0.006026742048561573, -0.10115183144807816, -0.08737406134605408, -0.019916173070669174, 0.22446516156196594, 0.09422609955072403, -0.11501505970954895, -0.12915825843811035, 0.2400551587343216, -0.20802800357341766, -0.008860787376761436, 0.11071926355361938, -0.11270569264888763, -0.16937389969825745, -0.2569035291671753, -0.017080090939998627, 0.4317191541194916, 0.1327478438615799, -0.12265097349882126, 0.10993392765522003, -0.06659901142120361, -0.0607975497841835, 0.06151208281517029, 0.13116194307804108, -0.06651265919208527, 0.10577632486820221, -0.03977024927735329, 0.09131856262683868, 0.17044475674629211, -0.001597628928720951, -0.015742046758532524, 0.16839493811130524, -0.056648507714271545, 0.08797252923250198, 0.07303488254547119, -0.0017577101243659854, -0.10866165906190872, -0.08244366198778152, -0.20892438292503357, -0.06561585515737534, -0.028893735259771347, -0.037805117666721344, -0.03716370090842247, 0.07039433717727661, -0.125834122300148, 0.09665888547897339, 0.0306007731705904, -0.09659123420715332, -0.05767139792442322, 0.1166766956448555, -0.07436390221118927, -0.10229042917490005, 0.10294997692108154, -0.26396727561950684, 0.14553894102573395, 0.13088221848011017, -0.00019154511392116547, 0.16868381202220917, 0.05758822709321976, 0.04628879576921463, -0.02686706930398941, -0.07332372665405273, -0.08572625368833542, -0.05639871209859848, 0.0040883212350308895, -0.050108589231967926, 0.056071262806653976, -0.06670878082513809], [-0.08682109415531158, 0.10593871027231216, 0.06767476350069046, -0.04972769320011139, -0.09015672653913498, 0.005823760759085417, -0.07554998248815536, -0.12728872895240784, 0.14980830252170563, -0.15471649169921875, 0.23005294799804688, -0.0690358355641365, -0.21030040085315704, -0.12111657112836838, 0.017829325050115585, 0.14555096626281738, -0.12235650420188904, -0.10096248239278793, -0.09029849618673325, 0.007335620932281017, 0.030070200562477112, -0.04182570427656174, 0.07621441036462784, 0.02839275449514389, -0.14591999351978302, -0.38538673520088196, -0.10164442658424377, -0.12289254367351532, -0.043775223195552826, -0.08090901374816895, -0.12113101780414581, 0.031364504247903824, -0.14294995367527008, -0.05380828678607941, -0.019714374095201492, 0.11348969489336014, -0.04874644801020622, -0.05795740336179733, 0.15235331654548645, -0.05204402655363083, -0.23015370965003967, -0.043971676379442215, 0.020705880597233772, 0.19589059054851532, 0.16093750298023224, -0.020576471462845802, 0.05943877622485161, -0.03712162375450134, 0.1391601264476776, -0.2287287563085556, 0.07761699706315994, 0.06496357172727585, 0.09906335175037384, 0.015606386587023735, 0.12440285831689835, -0.12188445031642914, 0.012069481424987316, 0.13539907336235046, -0.17755700647830963, -0.02476532943546772, 0.05019666999578476, -0.029162943363189697, -0.09444613754749298, -0.029756847769021988, 0.22419531643390656, 0.21566778421401978, -0.0888962671160698, -0.12168493866920471, 0.2008734792470932, -0.06487542390823364, 0.0252621378749609, 0.07242412865161896, -0.14815233647823334, -0.20075327157974243, -0.24111680686473846, 0.014136374928057194, 0.42861688137054443, 0.09732995182275772, -0.14131683111190796, -0.010719820857048035, -0.08226722478866577, -0.030049949884414673, 0.0326770655810833, 0.012792614288628101, -0.10111694037914276, 0.10795871168375015, -0.08280250430107117, 0.13420414924621582, 0.16625253856182098, -0.058355674147605896, -0.010315438732504845, 0.1874554455280304, 0.003964315168559551, 0.02464595064520836, 0.0645107701420784, 0.017629610374569893, -0.04012526571750641, 0.013820154592394829, -0.19265325367450714, 0.027805808931589127, 0.12285328656435013, -0.11667545139789581, -0.026880480349063873, 0.06072536110877991, -0.20384365320205688, 0.1055435836315155, 0.026183851063251495, -0.03465602174401283, -0.0076380278915166855, -0.039838049560785294, -0.1338801085948944, 0.019548432901501656, 0.16174711287021637, -0.25766444206237793, 0.1190854087471962, 0.12885288894176483, 0.054478783160448074, 0.1382286101579666, 0.05835111811757088, -0.006064280867576599, 0.028419770300388336, -0.09978263080120087, -0.19848895072937012, -0.05333924666047096, 0.12480131536722183, -0.008487921208143234, 0.048849932849407196, 0.033215224742889404], [-0.08861679583787918, 0.08926232159137726, 0.059166550636291504, -0.11259248852729797, -0.07898907363414764, -0.01386529952287674, -0.07543347030878067, -0.1031704694032669, 0.18575741350650787, -0.2027047723531723, 0.19839109480381012, -0.04349682480096817, -0.19398005306720734, -0.06694772839546204, -0.06606762856245041, 0.19353856146335602, -0.11739491671323776, -0.17220191657543182, -0.08781235665082932, -0.03641002997756004, 0.0002714360598474741, -0.01758592762053013, 0.0030960573349148035, 0.08397336304187775, -0.13291612267494202, -0.3445681035518646, -0.04100639373064041, -0.09478963911533356, -0.12508618831634521, -0.0036442168056964874, -0.027573682367801666, 0.11904732882976532, -0.2102327048778534, 0.016568712890148163, -0.003549485467374325, 0.11071962863206863, -0.022892355918884277, 0.005122273229062557, 0.1685391217470169, 0.03407251089811325, -0.26489782333374023, -0.04733201488852501, 0.03651522845029831, 0.18602176010608673, 0.20013342797756195, -0.03856186196208, -0.006029695272445679, -0.04132123291492462, 0.12571562826633453, -0.22211338579654694, 0.014501310884952545, 0.13993917405605316, 0.12683892250061035, 0.0009669056162238121, 0.100675567984581, -0.08173909783363342, 0.05133339390158653, 0.12482327222824097, -0.2008494734764099, -0.04475069046020508, 0.0016896543093025684, -0.13517999649047852, -0.12021337449550629, -0.05517174303531647, 0.2284877598285675, 0.2338239848613739, -0.09222633391618729, -0.14853927493095398, 0.24173937737941742, -0.12848520278930664, -0.05096418038010597, 0.07003980129957199, -0.10379739105701447, -0.17106647789478302, -0.2366194725036621, -0.022020848467946053, 0.401596337556839, 0.1536352038383484, -0.19941049814224243, 0.07725381851196289, -0.02571014314889908, -0.03028300032019615, 0.07932951301336288, 0.10126176476478577, -0.07723923027515411, 0.05507039278745651, -0.0272844098508358, 0.023693714290857315, 0.15335215628147125, 0.017366982996463776, -0.05577770620584488, 0.1692960262298584, -0.055140282958745956, 0.011538419872522354, 0.06670959293842316, -0.05329567939043045, -0.059629566967487335, -0.0038701938465237617, -0.1826419085264206, -0.049958549439907074, 0.011745158582925797, -0.04648098349571228, -0.0484541617333889, 0.037080954760313034, -0.15379108488559723, 0.09691272675991058, -0.030511092394590378, -0.017796333879232407, -0.015099880285561085, 0.04639425873756409, -0.0686543881893158, -0.022954082116484642, 0.11947494745254517, -0.20217950642108917, 0.17269232869148254, 0.06041484326124191, -0.0388701893389225, 0.140338733792305, 0.11871439963579178, 0.05830734223127365, 0.009031307883560658, -0.07565072923898697, -0.17963898181915283, -0.10204066336154938, 0.13171648979187012, -0.06133841350674629, 0.14991620182991028, -0.015020512044429779]]
cap  = cv2.VideoCapture(0)
success, img = cap.read()
img1 = cv2.resize(img, (0,0), None, 0.25,0.25)
img1 = cv2.cvtColor(img1, cv2.COLOR_BGR2RGB)
face = face_recognition.face_locations(img1)
encoded_face = face_recognition.face_encodings(img1, face)
matches = face_recognition.compare_faces(encoded_face_train, encoded_face[0])
faceDist = face_recognition.face_distance(encoded_face_train, encoded_face[0])
matchIndex = np.argmin(faceDist)

status = "unknown"
if matches[matchIndex]:
    name = classNames[matchIndex].lower()
    y1,x2,y2,x1 = face[0]
    y1, x2,y2,x1 = y1*4,x2*4,y2*4,x1*4
    cv2.rectangle(img,(x1,y1),(x2,y2),(0,255,0),2)
    cv2.rectangle(img, (x1,y2-35),(x2,y2), (0,255,0), cv2.FILLED)
    cv2.putText(img,name, (x1+6,y2-5), cv2.FONT_HERSHEY_COMPLEX,1,(255,255,255),2)
    markAttendance(name)
    status = "Your attendance has been marked " + name    
print(status)